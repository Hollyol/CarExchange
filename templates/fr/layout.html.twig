<!DOCTYPE html>
<html lang = fr>
	<head>
		<meta charset='utf-8' />
		<title>
			{% block title %}
			CarExchange
			{% endblock %}
		</title>
		{% block stylesheets %}
			<link rel="stylesheet" href="/css/layout.css" type="text/css" />
		{% endblock %}
	</head>

	<body>
		{% block scripts %}
		{% endblock %}
		<header id='main_header'>
			<h1>Car Exchange</h1>

			<nav class='main_links'>
				<a href='#'>Infos</a>
				<a href='#'>Contacts</a>
				<a href='{{ path('app_security.login') }}'>Connexion</a>
				<a href='{{ path('app_users.signup') }}'>S'enregistrer</a>
				<a href='{{ path('app_adverts.add') }}'>Louez votre voiture</a>
				<a href='{{ path('app_adverts.search') }}'>Cherchez une voiture</a>
			</nav>

			<nav class='meta_links'>
				{% block links %}{% endblock %}
			</nav>

			{% if is_granted('IS_AUTHENTICATED_FULLY') %}
				<aside id='user_logged'>
					<p><strong>
					<a href='{{ path('app_users.home') }}'>{{ app.user.username }}</a>
					</strong>
					<a href='{{ path('app_security.logout') }}'>Deconnexion</a></p>
				</aside>
			{% endif %}
			<div id='language_selector'>
				<img src="/images/frenglish_flag.jpg" type="image/jpg" />
				<ul>
					<li><a href = '{{ path(app.request.attributes.get('_route'),
						app.request.attributes.get('_route_params')|merge({'_locale': 'en'})) }}'>English</a></li>
					<li><a href = '{{ path(app.request.attributes.get('_route'),
						app.request.attributes.get('_route_params')|merge({'_locale': 'fr'})) }}'>Français</a></li>
				</ul>
			</div>
		</header>

		<div class='content'>
			{% block flashes %}
			{% endblock %}
			{% block content %}
			{% endblock %}
		</div>

		<footer id='main_footer'>
			{% block footer %}{% endblock %}
			<div id='generic_footing'>
				<p>Copyright blablabla. Touts droits réservés...</p>
				<a href='{{path('app_core.home') }}'>Accueil</a>
			</div>
		</footer>

	</body>
</html>
