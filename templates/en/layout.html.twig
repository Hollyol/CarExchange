<!DOCTYPE html>
<html lang = en>
	<head>
		<meta charset='utf-8' />
		<title>
			{% block title %}
			CarExchange
			{% endblock %}
		</title>
		{% block stylesheets %}
		<link rel="stylesheet" href="/css/layout.css" />
		{% endblock %}
	</head>

	<body>
		{% block scripts %}
		{% endblock %}
		<header id='main_header'>
			<h1>Car Exchange</h1>

			<nav class='main_links'>
				<a href='#'>Info</a>
				<a href='#'>Contact</a>
				<a href='{{ path('app_security.login') }}'>Sign In</a>
				<a href='{{ path('app_users.signup') }}'>Sign Up</a>
				<a href='{{ path('app_adverts.add') }}'>Rent your car</a>
				<a href='{{ path('app_adverts.search') }}'>Look for a car</a>
			</nav>

			<nav class='meta_links'>
				{% block links %}{% endblock %}
			</nav>

			{% if is_granted('IS_AUTHENTICATED_FULLY') %}
			<aside id = 'user_logged'>
				<p><strong>
				<a href='{{ path('app_users.home') }}'>{{ app.user.username }}</a>
				</strong>
				<a href='{{ path('app_security.logout') }}'>Sign Out</a></p>
			</aside>
			{% endif %}

			<div id='language_selector'>
				<img src="/images/frenglish_flag.jpg" type="image/jpg" />
				<ul>
					<li><a href = '{{ path(app.request.attributes.get('_route'),
						app.request.attributes.get('_route_params')|merge({'_locale': 'en'})) }}'>English</a></li>
					<li><a href = '{{ path(app.request.attributes.get('_route'),
						app.request.attributes.get('_route_params')|merge({'_locale': 'fr'})) }}'>Fran√ßais</a></li>
				</ul>
			</div>
		</header>

		<div class='content'>
			{% block flashes %}
			{% endblock %}
			{% block content %}
			{% endblock %}
		</div>

		<footer id='main_footer'>
			{% block footer %}{% endblock %}
			<div id='generic_footing'>
				<p>Copyright blablabla. All rights reserved</p>
				<a href='{{ path('app_core.home') }}'>Home</a>
			</div>
		</footer>

	</body>
</html>
